<!--
  index.html

  ✅ 역할
  - "Ledger Lite" 데모 화면(프론트)을 제공한다.
  - 버튼/폼 입력 → app.js가 fetch(AJAX)로 백엔드 REST API 호출 → 결과 렌더링

  ✅ 전체 흐름(사용자→요청→응답)
  - 사용자가 '계정 추가' 클릭 → JS가 POST /api/accounts 요청
  - 사용자가 '전표 등록' 클릭 → JS가 POST /api/journal-entries 요청
  - 사용자가 '전표 조회' 클릭 → JS가 GET /api/journal-entries/{id} 요청
-->
<!doctype html>
<html lang="ko">
<head>
    <!-- ✅ 한글 깨짐 방지: 브라우저는 기본 UTF-8이라 curl보다 훨씬 안정적 -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Ledger Lite</title>

    <!-- ✅ CSS 연결 -->
    <link rel="stylesheet" href="./style.css" />
</head>
<body>
<header class="header">
    <h1>Ledger Lite</h1>
    <p class="subtitle">Spring Boot + JPA + REST + Vanilla JS(AJAX) 데모</p>
</header>

<!-- ✅ 공통 메시지 영역: 성공/실패(에러 응답) 보여주기 -->
<section class="card">
    <h2>메시지</h2>
    <pre id="msgBox" class="msg"></pre>
</section>

<!-- ===================== 계정과목(Account) ===================== -->
<section class="card">
    <h2>1) 계정과목(Account)</h2>

    <div class="grid2">
        <div>
            <h3>계정과목 등록</h3>

            <!-- ✅ 입력값은 JS가 읽어서 POST /api/accounts로 보낸다 -->
            <label>코드</label>
            <input id="accCode" placeholder="예: 1000" />

            <label>이름</label>
            <input id="accName" placeholder="예: CASH" />

            <button id="btnCreateAccount">계정과목 추가</button>
        </div>

        <div>
            <h3>계정과목 목록</h3>
            <button id="btnReloadAccounts">새로고침</button>
            <pre id="accountsBox" class="box"></pre>
        </div>
    </div>
</section>

<!-- ===================== 전표/분개(JournalEntry) ===================== -->
<section class="card">
    <h2>2) 전표/분개(JournalEntry)</h2>

    <div class="grid2">
        <div>
            <h3>전표 등록</h3>

            <label>전표일자(문자열)</label>
            <input id="jeDate" placeholder="예: 2025-12-17" />

            <label>적요/설명</label>
            <input id="jeDesc" placeholder="예: Buy product with cash" />

            <h4>분개 라인</h4>

            <!-- ✅ 라인 테이블: JS로 행 추가/삭제 -->
            <table class="table" id="linesTable">
                <thead>
                <tr>
                    <th>차/대</th>
                    <th>금액</th>
                    <th>계정과목</th>
                    <th></th>
                </tr>
                </thead>
                <tbody id="linesTbody">
                <!-- JS가 기본 2줄을 자동으로 넣어줄 거야 -->
                </tbody>
                <!-- ✅ 차/대 합계 표시(UX 개선) -->
                <div class="sumBox">
                    <div>차변 합계: <b id="debitSum">0</b></div>
                    <div>대변 합계: <b id="creditSum">0</b></div>
                    <div>차이: <b id="diffSum">0</b></div>
                </div>

            </table>

            <div class="row">
                <button id="btnAddLine" type="button">라인 추가</button>
                <button id="btnCreateEntry" type="button">전표 등록</button>
            </div>
        </div>

        <div>
            <h3>전표 조회</h3>
            <label>전표 ID</label>
            <input id="jeId" placeholder="예: 1" />
            <button id="btnGetEntry">조회</button>
            <pre id="entryBox" class="box"></pre>
        </div>
    </div>
</section>

<!-- ✅ JS 연결 -->
<script src="./app.js"></script>
</body>
</html>
